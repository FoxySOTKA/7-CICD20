# Домашнее задание к занятию «Ansible.Часть 2»

## Выполнил Савицкий Андрей 

### Задание 1 с прилагающимися скриншотами:

Напишите три плейбука. При написании рекомендуем использовать текстовый редактор с подсветкой синтаксиса YAML.

Плейбуки должны: 

1. Скачать какой-либо архив, создать папку для распаковки и распаковать скаченный архив. Например, можете использовать [официальный сайт](https://kafka.apache.org/downloads) и зеркало Apache Kafka. При этом можно скачать как исходный код, так и бинарные файлы, запакованные в архив — в нашем задании не принципиально.

 * плейбук:
  
   ![1](https://github.com/user-attachments/assets/769ce1bd-e50f-4999-8815-286b50682d55)

   ![2](https://github.com/user-attachments/assets/e5c02cda-45b1-4fca-8e4a-d1ba7c516730)


 * вывод:
  
   ![Вывод](https://github.com/user-attachments/assets/d97b1106-7c4f-4adf-a8c3-1891fa81c10c)


2. Установить пакет tuned из стандартного репозитория вашей ОС. Запустить его, как демон — конфигурационный файл systemd появится автоматически при установке. Добавить tuned в автозагрузку.

 * плейбук:
   
   ![Плейбук](https://github.com/user-attachments/assets/709bd1b4-ddb3-40f1-93d4-8f26e2699e8f)


 * вывод:

   ![Вывод (1)](https://github.com/user-attachments/assets/44e61f70-7a60-495c-8d3a-6f865993420a)
   

3. Изменить приветствие системы (motd) при входе на любое другое. Пожалуйста, в этом задании используйте переменную для задания приветствия. Переменную можно задавать любым удобным способом.

 * плейбук:

   ![Плейбук (1)](https://github.com/user-attachments/assets/fdad1eeb-2f24-41a2-9e93-310dbcf1d20a)


 * вывод:
 
   ![Вывод (2)](https://github.com/user-attachments/assets/e692e297-e19d-4c44-996e-e2aa630a6a87)


### Задание 2 с прилагающимися скриншотами:

Модифицируйте плейбук из пункта 3, задания 1. В качестве приветствия он должен установить IP-адрес и hostname управляемого хоста, пожелание хорошего дня системному администратору. 

* плейбук:

  ![Плейбук (2)](https://github.com/user-attachments/assets/519a4de0-ef12-4367-b58c-19a6cad3f79a)

* вывод:

  ![Вывод (3)](https://github.com/user-attachments/assets/1bb78bbe-4d40-4126-a086-ffa59b30baaa)


### Задание 3

Ознакомьтесь со статьёй [«Ansible - это вам не bash»](https://habr.com/ru/post/494738/), сделайте соответствующие выводы и не используйте модули **shell** или **command** при выполнении задания.

Создайте плейбук, который будет включать в себя одну, созданную вами роль. Роль должна:

1. Установить веб-сервер Apache на управляемые хосты.
2. Сконфигурировать файл index.html c выводом характеристик каждого компьютера как веб-страницу по умолчанию для Apache. Необходимо включить CPU, RAM, величину первого HDD, IP-адрес.
Используйте [Ansible facts](https://docs.ansible.com/ansible/latest/playbook_guide/playbooks_vars_facts.html) и [jinja2-template](https://linuxways.net/centos/how-to-use-the-jinja2-template-in-ansible/). Необходимо реализовать handler: перезапуск Apache только в случае изменения файла конфигурации Apache.
4. Открыть порт 80, если необходимо, запустить сервер и добавить его в автозагрузку.
5. Сделать проверку доступности веб-сайта (ответ 200, модуль uri).

В качестве решения:
- предоставьте плейбук, использующий роль;
- разместите архив созданной роли у себя на Google диске и приложите ссылку на роль в своём решении;
- предоставьте скриншоты выполнения плейбука;
- предоставьте скриншот браузера, отображающего сконфигурированный index.html в качестве сайта.

